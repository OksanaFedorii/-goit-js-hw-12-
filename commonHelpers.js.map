{"version":3,"file":"commonHelpers.js","sources":["../src/main.js","../src/js/pixabay-api.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst API_KEY = '43843798-e4c61f3cfe0ada13281a73887';\nconst BASE_URL = 'https://pixabay.com/api/'; \n\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader'); \n\nfunction onSearchFormSubmit(event) {\n    event.preventDefault();\n    const searchQuery = event.target.elements.searchKeyword.value.trim();\n\n    if (searchQuery === '') {\n        galleryEl.innerHTML = '';\n        event.target.reset();\n        iziToast.show({\n            message: 'Input field can not be empty',\n            position: 'topRight',\n            timeout: 2000,\n            color: 'red',\n        });\n\n        return;\n    }\n\n    galleryEl.innerHTML = '';\n    loaderEl.classList.remove('is-hidden');\n\n    fetchPhotosByQuery(searchQuery)\n        .then(imagesData => {\n            if (imagesData.total === 0) {\n                iziToast.show({\n                    message: 'Sorry, there are no images for this query',\n                    position: 'topRight',\n                    timeout: 2000,\n                    color: 'red',\n                });\n            }\n\n            galleryEl.innerHTML = createGalleryItemMarkup(imagesData.results);\n        })\n        .catch(error => console.log(error))\n        .finally(() => {\n            event.target.reset();\n            loaderEl.classList.add('is-hidden');\n        });\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    const form = document.querySelector('.js-search-form');\n    const galleryEl = document.querySelector('.gallery');\n\n    form.addEventListener('submit', function (event) {\n        event.preventDefault();\n        const input = document.querySelector('.js-search-input');\n        const inputValue = input.value;\n\n        fetchPhotosByQuery(inputValue)\n            .then(data => {\n                galleryEl.innerHTML = createGalleryItemMarkup(data.hits);\n                console.log(data.hits);\n                initializeLightbox();\n            })\n            .catch(error => {\n                console.error('Fetch error:', error);\n            });\n    });\n});\n\nexport const fetchPhotosByQuery = (q) => {\n    const searchParams = new URLSearchParams({\n        q,\n        key: API_KEY,\n        per_page: 20,\n        image_type: \"photo\",\n        orientation: 'horizontal',\n        safesearch: true\n    });\n\n    return fetch(`${BASE_URL}?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        });\n};\n\nexport function createGalleryItemMarkup(items) {\n    return items.map(item => `\n        <a href=\"${item.largeImageURL}\" class=\"gallery-item\" data-lightbox=\"gallery\">\n            <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" />\n            <div class=\"card-body\">\n              <ul class=\"list-group list-group-flush\">\n                <li class=\"list-group-item\"><strong>Likes</strong> ${item.likes}</li>\n                <li class=\"list-group-item\"><strong>Views</strong> ${item.views}</li>\n                <li class=\"list-group-item\"><strong>Comments</strong> ${item.comments}</li>\n                <li class=\"list-group-item\"><strong>Downloads</strong> ${item.downloads}</li>\n              </ul>\n            </div>\n        </a>   \n    `).join('');\n};\n\nfunction initializeLightbox() {\n    const lightbox = new SimpleLightbox('.gallery a', {\n        overlayOpacity: 1,\n        captionsData: 'alt',\n        captionsDelay: 250,\n        nav: true,\n        close: true,\n        showCounter: true,\n        animationSpeed: 300,\n        fadeSpeed: 300,\n    });\n\n    lightbox.refresh();\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst API_KEY = '43843798-e4c61f3cfe0ada13281a73887';\nconst BASE_URL = 'https://pixabay.com/api/'; \n\ndocument.addEventListener('DOMContentLoaded', function() {\n    const form = document.querySelector('.js-search-form'); \n    const galleryEl = document.querySelector('.gallery'); \n\n    form.addEventListener('submit', function(event) {\n        event.preventDefault(); \n        const input = document.querySelector('.js-search-input'); \n        const inputValue = input.value; \n\n        fetchPhotosByQuery(inputValue) \n            .then(data => {\n                galleryEl.innerHTML = createGalleryItemMarkup(data.hits);\n                console.log(data.hits); \n                initializeLightbox();\n            })\n            .catch(error => {\n                console.error('Fetch error:', error);\n            }); \n    });\n});\n\nexport const fetchPhotosByQuery = (q) => {\n    const searchParams = new URLSearchParams({\n        q,\n        key: API_KEY,\n        per_page: 20,\n        image_type: \"photo\",\n        orientation: 'horizontal',\n        safesearch: true\n    });\n\n    return fetch(`${BASE_URL}?${searchParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        });\n};\n\nexport function createGalleryItemMarkup(items) {\n    return items.map(item => `\n        <a href=\"${item.largeImageURL}\" class=\"gallery-item\" data-lightbox=\"gallery\">\n            <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" />\n            <div class=\"card-body\">\n              <ul class=\"list-group list-group-flush\">\n                <li class=\"list-group-item\"><strong>Likes</strong> ${item.likes}</li>\n                <li class=\"list-group-item\"><strong>Views</strong> ${item.views}</li>\n                <li class=\"list-group-item\"><strong>Comments</strong> ${item.comments}</li>\n                <li class=\"list-group-item\"><strong>Downloads</strong> ${item.downloads}</li>\n              </ul>\n            </div>\n        </a>   \n    `).join('');\n};\n\nfunction initializeLightbox() {\n    const lightbox = new SimpleLightbox('.gallery a', {\n        overlayOpacity: 1,\n        captionsData: 'alt',\n        captionsDelay: 250,\n        nav: true, \n        close: true, \n        showCounter: true, \n        animationSpeed: 300, \n        fadeSpeed: 300, \n    });\n\n    lightbox.refresh(); \n}"],"names":["API_KEY","BASE_URL","searchFormEl","galleryEl","loaderEl","onSearchFormSubmit","event","searchQuery","iziToast","fetchPhotosByQuery","imagesData","createGalleryItemMarkup","error","form","inputValue","data","initializeLightbox","q","searchParams","response","items","item","SimpleLightbox"],"mappings":"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"}